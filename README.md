# Î•Î»Î»Î·Î½Î¹ÎºÎ­Ï‚ Î•ÎºÎ»Î¿Î³Î­Ï‚ 2024 - Î”Î·Î¼Î¿ÏƒÎºÏŒÏ€Î·ÏƒÎ·

ÎœÎ¹Î± Î¼Î¿Î½Ï„Î­ÏÎ½Î± Î´Î¹Î±Î´Î¹ÎºÏ„Ï…Î±ÎºÎ® ÎµÏ†Î±ÏÎ¼Î¿Î³Î® ÏˆÎ·Ï†Î¿Ï†Î¿ÏÎ¯Î±Ï‚ Î³Î¹Î± Ï„Î·Î½ Î´Î·Î¼Î¿ÏƒÎºÏŒÏ€Î·ÏƒÎ· Ï„Ï‰Î½ Î²Î¿Ï…Î»ÎµÏ…Ï„Î¹ÎºÏÎ½ ÎµÎºÎ»Î¿Î³ÏÎ½. Î— ÎµÏ†Î±ÏÎ¼Î¿Î³Î® ÎµÏ€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ ÏƒÏ„Î¿Ï…Ï‚ ÎµÏ€Î¹ÏƒÎºÎ­Ï€Ï„ÎµÏ‚ Î½Î± ÏˆÎ·Ï†Î¯ÏƒÎ¿Ï…Î½ Î³Î¹Î± Ï„Î¿Î½ ÎºÎ±Î»ÏÏ„ÎµÏÎ¿ Î ÏÏ‰Î¸Ï…Ï€Î¿Ï…ÏÎ³ÏŒ ÎºÎ±Î¹ Î½Î± Î´Î¿Ï…Î½ Ï„Î± Î±Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î± ÏƒÎµ Ï€ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÏŒ Ï‡ÏÏŒÎ½Î¿.

## Î§Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÎ¬

- ğŸ—³ï¸ **Î¨Î·Ï†Î¿Ï†Î¿ÏÎ¯Î± Î¼Îµ Î¼Î¯Î± ÏˆÎ®Ï†Î¿ Î±Î½Î¬ IP**: ÎšÎ¬Î¸Îµ IP Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÏˆÎ·Ï†Î¯ÏƒÎµÎ¹ Î¼ÏŒÎ½Î¿ Î¼Î¯Î± Ï†Î¿ÏÎ¬, Î±Î»Î»Î¬ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î±Î»Î»Î¬Î¾ÎµÎ¹ Ï„Î·Î½ ÎµÏ€Î¹Î»Î¿Î³Î® Ï„Î¿Ï…
- ğŸ“Š **Î‘Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î± ÏƒÎµ Ï€ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÏŒ Ï‡ÏÏŒÎ½Î¿**: Î“ÏÎ¬Ï†Î·Î¼Î± ÏÎ¬Î²Î´Ï‰Î½ Î¼Îµ Ï„Î± Î±Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î± ÎºÎ±Î¹ Ï„Î± Ï€Î¿ÏƒÎ¿ÏƒÏ„Î¬
- ğŸ¨ **ÎœÎ¿Î½Ï„Î­ÏÎ½Î¿ UI**: Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯ shadcn/ui ÎºÎ±Î¹ Tailwind CSS
- ğŸŒ™ **Dark Mode**: Î¥Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶ÎµÎ¹ ÏƒÎºÎ¿Ï„ÎµÎ¹Î½ÏŒ Î¸Î­Î¼Î±
- ğŸ“± **Responsive**: Î ÏÎ¿ÏƒÎ±ÏÎ¼Î¿ÏƒÎ¼Î­Î½Î¿ Î³Î¹Î± ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ ÏƒÏ…ÏƒÎºÎµÏ…Î­Ï‚
- ğŸ”’ **Î‘ÏƒÏ†Î¬Î»ÎµÎ¹Î±**: IP hashing Î³Î¹Î± Ï€ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î± Ï„Î·Ï‚ Î¹Î´Î¹Ï‰Ï„Î¹ÎºÏŒÏ„Î·Ï„Î±Ï‚
- âš¡ **Î“ÏÎ®Î³Î¿ÏÎ· Î±Ï€ÏŒÎºÏÎ¹ÏƒÎ·**: Framer Motion animations ÎºÎ±Î¹ loading states

## Î¤ÎµÏ‡Î½Î¿Î»Î¿Î³Î¯ÎµÏ‚

- **Frontend**: Next.js 14 (App Router), TypeScript, Tailwind CSS
- **UI Components**: shadcn/ui, Lucide React icons
- **Animations**: Framer Motion
- **Charts**: Recharts
- **Database**: Supabase (PostgreSQL)
- **Validation**: Zod
- **Deployment**: Vercel

## Î•Î³ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·

### Î ÏÎ¿Î±Ï€Î±Î¹Ï„Î¿ÏÎ¼ÎµÎ½Î±

- Node.js 18+ 
- npm Î® yarn
- Supabase account

### Î’Î®Î¼Î±Ï„Î±

1. **Clone Ï„Î¿ repository**
   ```bash
   git clone <repository-url>
   cd elect
   ```

2. **Î•Î³ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· dependencies**
   ```bash
   npm install
   ```

3. **Î¡ÏÎ¸Î¼Î¹ÏƒÎ· environment variables**
   ```bash
   cp env.example .env.local
   ```
   
   Î•Î½Î·Î¼ÎµÏÏÏƒÏ„Îµ Ï„Î¿ `.env.local` Î¼Îµ Ï„Î¹Ï‚ Î´Î¹ÎºÎ­Ï‚ ÏƒÎ±Ï‚ Ï„Î¹Î¼Î­Ï‚:
   ```env
   NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
   SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
   IP_HASH_SECRET=your_super_secret_random_string
   ```

4. **Î¡ÏÎ¸Î¼Î¹ÏƒÎ· Supabase**
   - Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÏ„Îµ Î­Î½Î± Î½Î­Î¿ project ÏƒÏ„Î¿ Supabase
   - Î•ÎºÏ„ÎµÎ»Î­ÏƒÏ„Îµ Ï„Î¿ SQL Î±Ï€ÏŒ Ï„Î¿ `supabase.sql` ÏƒÏ„Î¿ SQL Editor
   - Î‘Î½Ï„Î¹Î³ÏÎ¬ÏˆÏ„Îµ Ï„Î¿ URL ÎºÎ±Î¹ Ï„Î¿ service role key

5. **Î•ÎºÎºÎ¯Î½Î·ÏƒÎ· development server**
   ```bash
   npm run dev
   ```

Î— ÎµÏ†Î±ÏÎ¼Î¿Î³Î® Î¸Î± ÎµÎ¯Î½Î±Î¹ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î· ÏƒÏ„Î¿ `http://localhost:3000`

## Î”Î¿Î¼Î® Project

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ vote/route.ts      # API Î³Î¹Î± ÏˆÎ·Ï†Î¿Ï†Î¿ÏÎ¯Î±
â”‚   â”‚   â””â”€â”€ results/route.ts   # API Î³Î¹Î± Î±Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î±
â”‚   â”œâ”€â”€ globals.css
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx               # ÎšÏÏÎ¹Î± ÏƒÎµÎ»Î¯Î´Î±
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                    # shadcn/ui components
â”‚   â”œâ”€â”€ VoteOptionCard.tsx     # ÎšÎ¬ÏÏ„Î± ÎµÏ€Î¹Î»Î¿Î³Î®Ï‚ ÏˆÎ·Ï†Î¿Ï†Î¿ÏÎ¯Î±Ï‚
â”‚   â”œâ”€â”€ ResultsChart.tsx       # Î“ÏÎ¬Ï†Î·Î¼Î± Î±Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î¬Ï„Ï‰Î½
â”‚   â””â”€â”€ Loader.tsx             # Loading component
â””â”€â”€ lib/
    â”œâ”€â”€ schema.ts              # Zod schemas
    â”œâ”€â”€ hash.ts                # IP hashing utilities
    â”œâ”€â”€ ip.ts                  # IP extraction
    â”œâ”€â”€ supabaseAdmin.ts       # Supabase admin client
    â””â”€â”€ utils.ts               # Utility functions
```

## API Endpoints

### POST /api/vote
Î¨Î·Ï†Î¿Ï†Î¿ÏÎ¯Î± Î³Î¹Î± Î­Î½Î±Î½ Ï…Ï€Î¿ÏˆÎ®Ï†Î¹Î¿
```json
{
  "choice": "ÎœÎ·Ï„ÏƒÎ¿Ï„Î¬ÎºÎ·Ï‚"
}
```

### GET /api/vote
Î›Î®ÏˆÎ· Ï„Î·Ï‚ Ï„ÏÎ­Ï‡Î¿Ï…ÏƒÎ±Ï‚ ÏˆÎ®Ï†Î¿Ï… Ï„Î¿Ï… Ï‡ÏÎ®ÏƒÏ„Î· (Î±Î½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹)

### GET /api/results
Î›Î®ÏˆÎ· Ï„Ï‰Î½ Î±Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î¬Ï„Ï‰Î½
```json
{
  "total": 1234,
  "data": [
    {
      "choice": "ÎœÎ·Ï„ÏƒÎ¿Ï„Î¬ÎºÎ·Ï‚",
      "count": 456,
      "pct": 37.0
    }
  ]
}
```

## Deployment

### Vercel

1. **Push ÏƒÏ„Î¿Î½ GitHub**
   ```bash
   git add .
   git commit -m "Initial commit"
   git push origin main
   ```

2. **Import ÏƒÏ„Î¿ Vercel**
   - Î Î·Î³Î±Î¯Î½ÎµÏ„Îµ ÏƒÏ„Î¿ [Vercel](https://vercel.com)
   - Import Ï„Î¿ GitHub repository
   - Î ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ Ï„Î± environment variables
   - Deploy

### Environment Variables ÏƒÏ„Î¿ Vercel

- `NEXT_PUBLIC_SUPABASE_URL`
- `SUPABASE_SERVICE_ROLE_KEY`
- `IP_HASH_SECRET`

## Î‘ÏƒÏ†Î¬Î»ÎµÎ¹Î± & Î™Î´Î¹Ï‰Ï„Î¹ÎºÏŒÏ„Î·Ï„Î±

- **IP Hashing**: Î¤Î± IP addresses Î´ÎµÎ½ Î±Ï€Î¿Î¸Î·ÎºÎµÏÎ¿Î½Ï„Î±Î¹ Ï‰Ï‚ plain text, Î±Î»Î»Î¬ Ï‰Ï‚ HMAC-SHA256 hash
- **Rate Limiting**: Î ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î± Î±Ï€ÏŒ Ï€Î¿Î»Î»Î±Ï€Î»Î­Ï‚ ÏˆÎ®Ï†Î¿Ï…Ï‚
- **Input Validation**: Zod validation Î³Î¹Î± ÏŒÎ»Î± Ï„Î± inputs
- **RLS**: Row Level Security ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î¿ ÏƒÏ„Î¿ Supabase

## Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚

- Î— ÎµÏ†Î±ÏÎ¼Î¿Î³Î® ÎµÎ¯Î½Î±Î¹ Î¼Î· ÎµÏ€Î¯ÏƒÎ·Î¼Î· ÎºÎ±Î¹ Ï„Î± Î±Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î± ÎµÎ¯Î½Î±Î¹ ÎµÎ½Î´ÎµÎ¹ÎºÏ„Î¹ÎºÎ¬
- Î— IP-based ÏˆÎ·Ï†Î¿Ï†Î¿ÏÎ¯Î± Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ 100% Î±ÏƒÏ†Î±Î»Î®Ï‚ (NAT, VPN, ÎºÎ»Ï€.)
- Î ÏÎ¿Ï„ÎµÎ¹Î½ÏŒÎ¼ÎµÎ½Î· Î²ÎµÎ»Ï„Î¯Ï‰ÏƒÎ·: Rate limiting Î³Î¹Î± updates

## License

MIT License
